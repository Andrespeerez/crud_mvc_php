{
  "repo_notes": [
    {
      "content": "Aplicación de gestión de facturas y clientes desarrollada en PHP siguiendo el patrón Modelo-Vista-Controlador (MVC). Implementa una capa de persistencia basada en PDO para la conexión a bases de datos MySQL/MariaDB."
    }
  ],
  "pages": [
    {
      "title": "Overview",
      "purpose": "Introducción general al proyecto CRUD MVC en PHP, incluyendo su propósito, arquitectura y funcionamiento básico.",
      "page_notes": [
        {
          "content": "El proyecto permite la gestión completa de clientes y facturas, incluyendo sus líneas de detalle, mediante una interfaz web sencilla conectada a una base de datos MySQL."
        }
      ]
    },
    {
      "title": "Arquitectura MVC",
      "purpose": "Descripción del patrón Modelo-Vista-Controlador implementado y cómo se organiza el flujo de datos dentro de la aplicación.",
      "page_notes": [
        {
          "content": "El patrón MVC separa la lógica de negocio (Modelo), la presentación (Vista) y el control del flujo de la aplicación (Controlador)."
        }
      ]
    },
    {
      "title": "Flujo de Datos",
      "purpose": "Explicación del recorrido de una petición desde el cliente hasta la base de datos y de vuelta al navegador.",
      "parent": "Arquitectura MVC",
      "page_notes": [
        {
          "content": "Cliente → index.php (Router) → Controlador → Modelo (DB) → Controlador → Vista → Cliente."
        }
      ]
    },
    {
      "title": "Capa de Controlador",
      "purpose": "Documentación de la capa que coordina las peticiones, invoca los modelos y selecciona las vistas apropiadas.",
      "parent": "Arquitectura MVC",
      "page_notes": [
        {
          "content": "Los controladores gestionan la lógica de flujo. Ejemplo: cliente.controlador.php maneja todas las operaciones CRUD de clientes."
        }
      ]
    },
    {
      "title": "Capa de Modelo",
      "purpose": "Descripción de la capa de persistencia y dominio. Contiene las clases de entidad y la lógica de acceso a datos mediante PDO.",
      "parent": "Arquitectura MVC",
      "page_notes": [
        {
          "content": "Cada entidad (Cliente, Factura, Línea de Factura) tiene su propio modelo que gestiona las operaciones CRUD a través de la clase BD.php."
        }
      ]
    },
    {
      "title": "Capa de Vista",
      "purpose": "Capa de presentación del proyecto. Define cómo se muestran los datos al usuario.",
      "parent": "Arquitectura MVC",
      "page_notes": [
        {
          "content": "Las vistas combinan HTML y PHP. Están organizadas por entidad (cliente, factura, lineafactura) e incluyen plantillas comunes (header, footer)."
        }
      ]
    },
    {
      "title": "Estructura del Proyecto",
      "purpose": "Resumen de los directorios y archivos clave del repositorio.",
      "page_notes": [
        {
          "content": "El repositorio está dividido en carpetas /controller, /model, /view y un archivo index.php que actúa como punto de entrada."
        }
      ]
    },
    {
      "title": "index.php (Front Controller)",
      "purpose": "Archivo principal del proyecto encargado de gestionar las rutas y peticiones entrantes.",
      "parent": "Estructura del Proyecto",
      "page_notes": [
        {
          "content": "Utiliza los parámetros 'c' (controlador) y 'm' (método) para determinar qué controlador y acción ejecutar."
        }
      ]
    },
    {
      "title": "Directorio controller/",
      "purpose": "Contiene los controladores de la aplicación que gestionan las operaciones CRUD.",
      "parent": "Estructura del Proyecto",
      "page_notes": [
        {
          "content": "Incluye app.controlador.php (landing), cliente.controlador.php, factura.controlador.php y lineafactura.controlador.php."
        }
      ]
    },
    {
      "title": "Directorio model/",
      "purpose": "Contiene la capa de persistencia. Gestiona la conexión y las consultas a la base de datos.",
      "parent": "Estructura del Proyecto",
      "page_notes": [
        {
          "content": "La clase BD.php maneja la conexión PDO y los métodos _consultar y _ejecutar. Los modelos cliente, factura y línea de factura encapsulan la lógica de negocio."
        }
      ]
    },
    {
      "title": "Directorio view/",
      "purpose": "Contiene las vistas que muestran los datos al usuario final.",
      "parent": "Estructura del Proyecto",
      "page_notes": [
        {
          "content": "Organizadas en subcarpetas: /cliente, /factura, /lineafactura y /layout (plantillas base)."
        }
      ]
    },
    {
      "title": "Base de Datos",
      "purpose": "Detalles sobre la configuración de la base de datos y la conexión PDO.",
      "page_notes": [
        {
          "content": "La base de datos se gestiona con MySQL/MariaDB. Las tablas principales son: cliente, factura y lineas_factura. La clase BD.php centraliza la conexión y ejecución de consultas."
        }
      ]
    },
    {
      "title": "Seguridad",
      "purpose": "Buenas prácticas de seguridad aplicadas dentro del proyecto.",
      "page_notes": [
        {
          "content": "Uso de PDO con consultas parametrizadas para evitar inyección SQL, y uso de htmlspecialchars() en vistas para prevenir ataques XSS."
        }
      ]
    }
  ]
}
